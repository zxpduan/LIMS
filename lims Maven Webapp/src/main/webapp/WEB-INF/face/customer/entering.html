<style>
	label span{
		vertical-align:middle;
		color:red;
	}
</style>
<!-- #section:basics/info.contents.breadcrumbs -->
<div class="breadcrumbs" id="breadcrumbs">
	<script type="text/javascript">
		try {
			ace.settings.check('breadcrumbs', 'fixed')
		} catch (e) {
		}
	</script>
	<ul class="breadcrumb">
		<li><i class="ace-icon fa fa-desktop"></i> <a href="#"></a></li>
		<li>客户信息管理</li>
		<li>客户资料录入</li>
	</ul>
	<!-- /.breadcrumb -->
</div>
<!-- /section:basics/info.contents.breadcrumbs -->
<div class="page-content">
	
	<div class="row">
		<div class="col-xs-12">
			<!-- PAGE CONTENT BEGINS -->
			<form class="form-horizontal" role="form" action="_customerAction!addcustomer.action" id="customer_form">
				<!-- #section:basics/info.contents.entercustomer -->
				<div class="space-4"></div>
				<h5 class="row header bigger lighter  col-xs-12 col-sm-12">
					<i class="ace-icon fa fa-bars purple"></i> 借款人基本信息
				</h5>
				<div class="form-group col-xs-12 col-sm-6">
					<label class="col-sm-3 control-label no-padding-right" > 借款人姓名<span>*</span></label>
					<div class="col-sm-9">
						<input type="text" name="customername" maxlength=20 id="form-field-1" placeholder="" class="col-sm-12 col-xs-12" />
					</div>
				</div>
				<div class="space-4"></div>
				<div class="form-group col-xs-12 col-sm-6">
					<label class="col-sm-3 control-label no-padding-right" > 性别 </label>
					<div class="col-sm-9">
						<select name="customergender" class="form-control" >
							<option value="0">男</option>
							<option value="1">女</option>
						</select>
					</div>
				</div>
				<div class="space-4"></div>
				<div class="form-group col-xs-12 col-sm-6">
					<label class="col-sm-3 control-label no-padding-right" > 出生日期<span>*</span></label>
					<div class="col-sm-9">
						
						<div class="input-daterange input-group">
							<input type="text" maxlength=20 name="customerbirth" class="input-sm form-control date-picker" data-date-format="yyyy-mm-dd" /> 
						</div>	
					</div>
				</div>				
				<div class="space-4"></div>
				
				<div class="form-group col-xs-12 col-sm-6">
					<label class="col-sm-3 control-label no-padding-right" > 婚姻状况<span>*</span></label>					
				
					<div class="col-sm-9">
						<select name="customerwed" class="form-control" >
							<option value="0">已婚</option>
							<option value="1">未婚</option>
							<option value="2">离异</option>
							<option value="3">丧偶</option>
						</select>
					</div>					
				
					
				</div>
				<div class="space-4"></div>
				<div class="form-group col-xs-12 col-sm-6">
					<label class="col-sm-3 control-label no-padding-right" > 证件类型<span>*</span></label>
					<div class="col-sm-9">
						<select name="customercert" class="form-control" >
							<option value="0">身份证</option>
							<option value="1">其他</option>							
						</select>
					</div>
				</div>
				<div class="space-4"></div>
				<div class="form-group col-xs-12 col-sm-6">
					<label class="col-sm-3 control-label no-padding-right" >证件号码<span>*</span> </label>
					<div class="col-sm-9">
						<input name="customercertnum" maxlength=40 type="text"  placeholder="" class="col-sm-12 col-xs-12" />
					</div>
				</div>
				<div class="space-4"></div>
				
				<div class="form-group col-xs-12 col-sm-6">
					<label class="col-sm-3 control-label no-padding-right" > 学历</label>
					<div class="col-sm-9">
						<select name="customereduc" class="form-control" >
						   	<option value="0">研究生以上</option>
							<option value="1">大学本科</option>							
							<option value="2" selected>大学专科和专科学校</option>
							<option value="3">高中及以下</option>
						</select>
					</div>
				</div>
				<div class="space-4"></div>
				<div class="form-group col-xs-12 col-sm-6">
					<label class="col-sm-3 control-label no-padding-right" > 联系方式<span>*</span> </label>
					<div class="col-sm-9">
						<input name="customermobile" maxlength=20 class="form-control input-mask-phone" type="text" />
					</div>
				</div>
				<div class="space-4"></div>
				<div class="form-group col-xs-12 col-sm-6">
					<label class="col-sm-3 control-label no-padding-right" >家庭住址<span>*</span> </label>
					<div class="col-sm-9">
						<input name="customeraddr" maxlength=200 type="text"  placeholder="" class="col-sm-12 col-xs-12" />
					</div>
				</div>
				
				<div class="space-4"></div>
				<div class="form-group col-xs-12 col-sm-6">
					<label class="col-sm-3 control-label no-padding-right" > 住所状况<span>*</span></label>
					<div class="col-sm-9">
						<select name="customerresid" class="form-control" >
							<option value="0">全款</option>
							<option value="1" selected>按揭</option>
							<option value="2">租用</option>
							<option value="3">集体宿舍</option>
							<option value="4">亲戚或父母家</option>
							<option value="5">其它</option>
						</select>
					</div>
				</div>
				<div class="space-4"></div>
				<div class="form-group col-xs-12 col-sm-6">
					<label class="col-sm-3 control-label no-padding-right" > 工作单位<span>*</span></label>
					<div class="col-sm-9">
						<input name="customercom" maxlength=40 type="text"  placeholder="" class="col-sm-12 col-xs-12" />
					</div>
				</div>
				<div class="space-4"></div>
				<div class="form-group col-xs-12 col-sm-6">
					<label class="col-sm-3 control-label no-padding-right" > 职务 </label>
					<div class="col-sm-9">
						<select name="customerpost" class="form-control" >
							
							<option value="0">单位主管（局级及以上）</option>
							<option value="1">单位中层（处级及以上）</option>
							<option value="2">部门主管（科级及以上）</option>
							<option value="3">专业技术人员 </option>
							<option value="4">下岗或失业</option>												
							<option value="5" selected>其它</option>
						</select>
					</div>
				</div>
				<div class="space-4"></div>
				<div class="form-group col-xs-12 col-sm-6">
					<label class="col-sm-3 control-label no-padding-right" > 单位地址<span>*</span></label>
					<div class="col-sm-9">
						<input name="customercomaddr" maxlength=200 type="text"   placeholder="" class="col-sm-12 col-xs-12" />
					</div>
				</div>
				<div class="space-4"></div>
				<div class="form-group col-xs-12 col-sm-6">
					<label class="col-sm-3 col-xs-12 control-label no-padding-right" >年收入<span>*</span> </label>
					<div class="col-sm-6 col-xs-5">
						<input name="customerincome" maxlength=8 type="text"   placeholder="" class="col-sm-12 col-xs-12" />
												
					</div>
					<label class="col-sm-2 col-xs-6 no-padding-left" >单位：万元 </label>
				</div>
				<div class="space-4"></div>
				<div class="form-group col-xs-12 col-sm-6">
					<label class="col-sm-3 control-label no-padding-right" >车辆状况<span>*</span> </label>
					<div class="col-sm-9">
						<select name="customercar" class="form-control" >							
							<option value="0">无车</option>
							<option value="1" selected>5-15万元</option>
							<option value="2">15-30万元</option>
							<option value="3">30万元以上</option>													
						</select>
					</div>
				</div>
				<div class="space-4"></div>
				<div class="form-group col-xs-12 col-sm-6">
					<label class="col-sm-3 control-label no-padding-right" >QQ</label>
					<div class="col-sm-9">
						<input name="customerqq" maxlength=20 class="form-control" type="text" />
					</div>
				</div>
				<div class="space-4"></div>
				<div class="form-group col-xs-12 col-sm-6">
					<label class="col-sm-3 control-label no-padding-right" >微信 </label>
					<div class="col-sm-9">
						<input name="customerwx" maxlength=20 class="form-control" type="text" />
					</div>
				</div>
				<div class="space-4"></div>
				<div class="form-group col-xs-12 col-sm-6">
					<label class="col-sm-3 control-label no-padding-right" >Email</label>
					<div class="col-sm-9">
						<input name="customeremail" maxlength=50 class="form-control" type="text" />
					</div>
				</div>
				<!-- /section:basics/info.contents.entercustomer -->
				<div class="space-4"></div>
				<h5 class="row header bigger lighter  col-xs-12 col-sm-12">
					<i class="ace-icon fa fa-file-text purple"></i> 贷款信息
				</h5>
				<div class="space-4"></div>
				<div class="form-group col-xs-12 col-sm-6">
					<label class="col-sm-3 control-label no-padding-right" >房源位置 </label>
					<div class="col-sm-9">
						<input name="customerhouseaddr" maxlength=200 class="form-control" type="text" />
					</div>
				</div>
				<div class="space-4"></div>
				<div class="form-group col-xs-12 col-sm-6">
					<label class="col-sm-3 control-label no-padding-right" >购买价 </label>
					<div class="col-sm-6 col-xs-5">
						<input name="customerhprice" maxlength=8 type="text"  placeholder="" class="col-sm-12 col-xs-12" />
												
					</div>
					<label class="col-sm-2 col-xs-6 no-padding-left" >单位：万元 </label>
				</div>
				<div class="space-4"></div>
				<div class="form-group col-xs-12 col-sm-6">
					<label class="col-sm-3 control-label no-padding-right" >紧急联系人1</label>
					<div class="col-sm-9">
						<input name="customercontact1" maxlength=20 class="form-control" type="text" />
					</div>			
				</div>
				<div class="space-4"></div>
				<div class="form-group col-xs-12 col-sm-6">
					<label class="col-sm-3 control-label no-padding-right" >与贷款人关系1</label>
					<div class="col-sm-9">
						<select name="customerrealtion1" class="form-control" >
							<option value=""></option>					
							<option value="0">父母</option>
							<option value="1">配偶</option>
							<option value="2">兄弟，姐妹</option>
							<option value="3">朋友</option>
							<option value="4">其它</option>						
						</select>
					</div>
				</div>
				<div class="space-4"></div>
				<div class="form-group col-xs-12 col-sm-6">
					<label class="col-sm-3 control-label no-padding-right" >紧急联系人1电话</label>
					<div class="col-sm-9">
						<input name="customermobile1" maxlength=20 class="form-control" type="text" />
					</div>			
				</div>
				<div class="space-4"></div>
				<div class="form-group col-xs-12 col-sm-6">
					<label class="col-sm-3 control-label no-padding-right" >紧急联系人2 </label>
					<div class="col-sm-9">
						<input name="customercontact2" maxlength=20 class="form-control" type="text" />
					</div>			
				</div>
				<div class="space-4"></div>
				<div class="form-group col-xs-12 col-sm-6">
					<label class="col-sm-3 control-label no-padding-right" >与贷款人关系2</label>
					<div class="col-sm-9">
						<select name="customerrealition2" class="form-control" >
							<option value=""></option>
							<option value="0">父母</option>
							<option value="1">配偶</option>
							<option value="2">兄弟，姐妹</option>
							<option value="3">朋友</option>
							<option value="4">其它</option>						
						</select>
					</div>
				</div>
				<div class="space-4"></div>
				<div class="form-group col-xs-12 col-sm-6">
					<label class="col-sm-3 control-label no-padding-right" >紧急联系人2电话 </label>
					<div class="col-sm-9">
						<input name="customermobile2" maxlength=20 class="form-control" type="text" />
					</div>			
				</div>
				<div class="space-4"></div>
				<div class="form-group col-xs-12 col-sm-6">
					<label class="col-sm-3 control-label no-padding-right" >代还款人1</label>
					<div class="col-sm-9">
						<input name="customerreplace1" maxlength=20 class="form-control" type="text" />
					</div>
				</div>
				<div class="space-4"></div>
				<div class="form-group col-xs-12 col-sm-6">
					<label class="col-sm-3 control-label no-padding-right" >代还款人2</label>
					<div class="col-sm-9">
						<input name="customerreplace2"  maxlength=20 class="form-control" type="text" />
					</div>
				</div>
				
				<div class="space-4"></div>
				<h5 class="row header bigger lighter  col-xs-12 col-sm-12">
					<i class="ace-icon fa fa-file-text purple"></i> 配偶信息
				</h5>
				<div class="form-group col-xs-12 col-sm-6">
					<label class="col-sm-3 control-label no-padding-right" > 配偶姓名</label>
					<div class="col-sm-9">
						<input type="text" name="customertname" maxlength=20 id="form-field-1" placeholder="" class="col-sm-12 col-xs-12" />
					</div>
				</div>
				<div class="space-4"></div>
				<div class="form-group col-xs-12 col-sm-6">
					<label class="col-sm-3 control-label no-padding-right" > 性别 </label>
					<div class="col-sm-9">
						<select name="customertgender" class="form-control" >
							<option value="0">男</option>
							<option value="1">女</option>
						</select>
					</div>
				</div>
				<div class="space-4"></div>
				<div class="form-group col-xs-12 col-sm-6">
					<label class="col-sm-3 control-label no-padding-right" > 出生日期</label>
					<div class="col-sm-9">
						
						<div class="input-daterange input-group">
							<input type="text" maxlength=20 name="customertbirth" class="input-sm form-control date-picker" data-date-format="yyyy-mm-dd" /> 
						</div>	
					</div>
				</div>				
				<div class="space-4"></div>
				
				<div class="form-group col-xs-12 col-sm-6">
					<label class="col-sm-3 control-label no-padding-right" > 婚姻状况</label>					
				
					<div class="col-sm-9">
						<select name="customertwed" class="form-control" >
							<option value="0">已婚</option>
							<option value="1">未婚</option>
							<option value="2">离异</option>
							<option value="3">丧偶</option>
						</select>
					</div>					
				
					
				</div>
				<div class="space-4"></div>
				<div class="form-group col-xs-12 col-sm-6">
					<label class="col-sm-3 control-label no-padding-right" > 证件类型</label>
					<div class="col-sm-9">
						<select name="customertcert" class="form-control" >
							<option value="0">身份证</option>
							<option value="1">其他</option>							
						</select>
					</div>
				</div>
				<div class="space-4"></div>
				<div class="form-group col-xs-12 col-sm-6">
					<label class="col-sm-3 control-label no-padding-right" >证件号码</label>
					<div class="col-sm-9">
						<input name="customertcertnum" maxlength=40 type="text"  placeholder="" class="col-sm-12 col-xs-12" />
					</div>
				</div>
				<div class="space-4"></div>
				
				<div class="form-group col-xs-12 col-sm-6">
					<label class="col-sm-3 control-label no-padding-right" > 学历</label>
					<div class="col-sm-9">
						<select name="customerteduc" class="form-control" >
						   	<option value="0">研究生以上</option>
							<option value="1">大学本科</option>							
							<option value="2">大学专科和专科学校</option>
							<option value="3">高中及以下</option>
						</select>
					</div>
				</div>
				<div class="space-4"></div>
				<div class="form-group col-xs-12 col-sm-6">
					<label class="col-sm-3 control-label no-padding-right" > 联系方式</label>
					<div class="col-sm-9">
						<input name="customertmobile" maxlength=20 class="form-control input-mask-phone" type="text" />
					</div>
				</div>
				<div class="space-4"></div>
				<div class="form-group col-xs-12 col-sm-6">
					<label class="col-sm-3 control-label no-padding-right" >家庭住址 </label>
					<div class="col-sm-9">
						<input name="customertaddr" maxlength=200 type="text"  placeholder="" class="col-sm-12 col-xs-12" />
					</div>
				</div>
				
				<div class="space-4"></div>
				<div class="form-group col-xs-12 col-sm-6">
					<label class="col-sm-3 control-label no-padding-right" > 住所状况</label>
					<div class="col-sm-9">
						<select name="customertresid" class="form-control" >
							<option value="0">全款</option>
							<option value="1">按揭</option>
							<option value="2">租用</option>
							<option value="3">集体宿舍</option>
							<option value="4">亲戚或父母家</option>
							<option value="5">其它</option>
						</select>
					</div>
				</div>
				<div class="space-4"></div>
				<div class="form-group col-xs-12 col-sm-6">
					<label class="col-sm-3 control-label no-padding-right" > 工作单位</label>
					<div class="col-sm-9">
						<input name="customertcom" maxlength=40 type="text"  placeholder="" class="col-sm-12 col-xs-12" />
					</div>
				</div>
				<div class="space-4"></div>
				<div class="form-group col-xs-12 col-sm-6">
					<label class="col-sm-3 control-label no-padding-right" > 职务 </label>
					<div class="col-sm-9">
						<select name="customertpost" class="form-control" >
							
							<option value="0">单位主管（局级及以上）</option>
							<option value="1">单位中层（处级及以上）</option>
							<option value="2">部门主管（科级及以上）</option>
							<option value="3">专业技术人员 </option>
							<option value="4">下岗或失业</option>												
							<option value="5">其它</option>
						</select>
					</div>
				</div>
				<div class="space-4"></div>
				<div class="form-group col-xs-12 col-sm-6">
					<label class="col-sm-3 control-label no-padding-right" > 单位地址</label>
					<div class="col-sm-9">
						<input name="customertcomaddr" maxlength=200 type="text"   placeholder="" class="col-sm-12 col-xs-12" />
					</div>
				</div>
				<div class="space-4"></div>
				<div class="form-group col-xs-12 col-sm-6">
					<label class="col-sm-3 col-xs-12 control-label no-padding-right" >年收入 </label>
					<div class="col-sm-6 col-xs-5">
						<input name="customertincome" maxlength=8 type="text"   placeholder="" class="col-sm-12 col-xs-12" />
												
					</div>
					<label class="col-sm-2 col-xs-6 no-padding-left" >单位：万元 </label>
				</div>
				<div class="space-4"></div>
				<div class="form-group col-xs-12 col-sm-6">
					<label class="col-sm-3 control-label no-padding-right" >车辆状况</label>
					<div class="col-sm-9">
						<select name="customertcar" class="form-control" >							
							<option value="0">无车</option>
							<option value="1">5-15万元</option>
							<option value="2">15-30万元</option>
							<option value="3">30万元以上</option>													
						</select>
					</div>
				</div>
				<div class="space-4"></div>
				<div class="form-group col-xs-12 col-sm-6">
					<label class="col-sm-3 control-label no-padding-right" >QQ</label>
					<div class="col-sm-9">
						<input name="customertqq" maxlength=20 class="form-control" type="text" />
					</div>
				</div>
				<div class="space-4"></div>
				<div class="form-group col-xs-12 col-sm-6">
					<label class="col-sm-3 control-label no-padding-right" >微信 </label>
					<div class="col-sm-9">
						<input name="customertwx" maxlength=20 class="form-control" type="text" />
					</div>
				</div>
				<div class="space-4"></div>
				<div class="form-group col-xs-12 col-sm-6">
					<label class="col-sm-3 control-label no-padding-right" >Email</label>
					<div class="col-sm-9">
						<input name="customertemail" maxlength=50 class="form-control" type="text" />
					</div>
				</div>
				<div class="space-4"></div>
				<h5 class="row header bigger lighter  col-xs-12 col-sm-12">
					<i class="ace-icon fa fa-file-text purple"></i> 其它
				</h5>
				<div class="space-4"></div>
				<div class="form-group col-xs-12 col-sm-6">
					<label class="col-sm-3 control-label no-padding-right" >备注</label>
					<div class="col-sm-9">
						<input name="customerdesc" maxlength=200 class="form-control" type="text" />
					</div>
				</div>
				
				
				<div class="space-4"></div>
				<div class="col-xs-12">
					<div>
					<center>
					<button id="add_customer_btn" class="btn btn-info" type="button">
						<i class="ace-icon fa fa-check bigger-110"></i> 提交
					</button>
					&nbsp; &nbsp; &nbsp;
					<button class="btn" type="reset">
						<i class="ace-icon fa fa-undo bigger-110"></i> 重置
					</button>
					</center>
					</div>
				</div>
			</form>
		</div>
		<!-- /.col -->
	</div>
	<!-- /.row -->
</div>
<!-- /.page-content -->
<!-- 
<script src="assets/js/bootstrap-colorpicker.min.js"></script>
 -->
<script type="text/javascript">
	jQuery(function($) {
		
		$('.date-picker').datepicker({
				autoclose : true
			});	

	});
	/* $(function() {
		focusInputText("customer_form");
	}); */
	$(document).ready(function() {
		/* $.browser.mozilla = /firefox/.test(navigator.userAgent.toLowerCase());
		$.browser.webkit = /webkit/.test(navigator.userAgent.toLowerCase());
		$.browser.opera = /opera/.test(navigator.userAgent.toLowerCase());
		$.browser.msie = /msie/.test(navigator.userAgent.toLowerCase()); */
		$(':input:text:first').focus();
		$(':input:enabled').addClass('enterIndex');
		// get only input tags with class data-entry 
		textboxes = $('.enterIndex');
		// now we check to see which browser is being used 
		if ($.browser.mozilla) {
			$(textboxes).bind('keypress', CheckForEnter);
		} else {
			$(textboxes).bind('keydown', CheckForEnter);
		}
	});
	function CheckForEnter(event) {
		if (event.keyCode == 13 && $(this).attr('type') != 'button' && $(this).attr('type') != 'submit' && $(this).attr('type') != 'textarea' && $(this).attr('type') != 'reset') {
			var i = $('.enterIndex').index($(this));
			var n = $('.enterIndex').length;
			if (i < n - 1) {
				if ($(this).attr('type') != 'radio') {
					NextDOM($('.enterIndex'), i);
				} else {
					var last_radio = $('.enterIndex').index($('.enterIndex[type=radio][name=' + $(this).attr('name') + ']:last'));
					NextDOM($('.enterIndex'), last_radio);
				}
			}
			return false;
		}
	}
	function NextDOM(myjQueryObjects, counter) {
		if (myjQueryObjects.eq(counter + 1)[0].disabled) {
			NextDOM(myjQueryObjects, counter + 1);
		} else {
			myjQueryObjects.eq(counter + 1).trigger('focus');
		}
	}
	
	function initBorrower() {
				$("#Borrower").bsSuggest('init', {
				/*url: "/rest/sys/getuserlist?keyword=",
				effectiveFields: ["userName", "email"],
				searchFields: [ "shortAccount"],
				effectiveFieldsAlias:{userName: "姓名"},*/
				clearable : true,
				url : "sugestdemo_data.action",
				idField : "userId",
				keyField : "userName"
				}).on('onDataRequestSuccess', function(e, result) {
					console.log('onDataRequestSuccess: ', result);
				}).on('onSetSelectValue', function(e, keyword, data) {
					console.log('onSetSelectValue: ', keyword, data);
				}).on('onUnsetSelectValue', function() {
					console.log('onUnsetSelectValue');
				});
			}
	initBorrower();
			var validator=null;//for add customer form validate
			/*
				validate form
			*/
			function validateCheck(form_id_str){
				return validator=$("#"+form_id_str).validate({
					debug: true, //调试模式取消submit的默认提交功能   
	                //errorClass: "label.error", //默认为错误的样式类为：error   
	                focusInvalid: true, //当为false时，验证无效时，没有焦点响应  
	                onkeyup: false,   
	                submitHandler: function(form){   //表单提交句柄,为一回调函数，带一个参数：form   
	                    alert("提交表单");
	                },   
					rules: {  
				      customername: {  
				         required: true,
				         maxlength:20
				      },
				      customerwed: {  
				         required: true
				      },
				      customercert: {  
				         required: true
				      },
				      customercertnum: {  
				         required: true,
				          maxlength:20
				      },
				      customermobile: {  
				         required: true,
				         maxlength:50
				      },
				      customerhouseaddr:{
				      	maxlength:250
				      },
				      customeraddr: {  
				         required: true,
				         maxlength:250
				      },
				      customerbirth: {  
				         required: true
				      },
				      customerresid: {  
				         required: true
				      },
				      customercom: {  
				         required: true,
				         maxlength:50
				      },
				      customercomaddr: {  
				         required: true,
				         maxlength:250
				      },
				      customerincome: {  
				         required: true,
				         number:true,
				         range:[0,999999]				         
				      },
				      customeremail: {
				         email:true,
				         maxlength:50
				      },
				       customerhprice: {
				         number:true,				         
				         range:[0,999999]
				      },				       				      
				      customercar: {  
				         required: true
				      },
				      customercontact1: {  
				         //required: true,
				         maxlength:20
				      },
				      customerrelation1: {  
				         //required: true
				      },
				      customermobile1: {  
				         //required: true,
				         maxlength:20
				      },
				      customerwx:{
				      	maxlength:20
				      },
				      customerqq:{
				      	maxlength:20
				      }, 
				      
				      customertname: {  
				         //required: true,
				         maxlength:20
				      },
				      customertbirth: {  
				         //required: true
				      },
				      customertwed: {  
				         //required: true
				      },
				      customertcert: {  
				         //required: true
				      },
				      customertcertnum: {  
				          //required: true,
				          maxlength:20
				      },
				      customertmobile: {  
				         //required: true,
				         maxlength:50
				      },
				      
				      customerthouseaddr:{
				      	maxlength:250
				      },
				      customertaddr: { 
				         maxlength:250
				      },
				      customertcom: {         
				         maxlength:50
				      },
				      customertcomaddr: {           
				         maxlength:250
				      },
				      customertincome: {           
				         number:true,
				         range:[0,999999]         
				      },
				      customertemail: {
				         email:true,
				         maxlength:50
				      },
				       customerthprice: {
				         number:true,         
				         range:[0,999999]
				      },
				      customertwx:{
				      	maxlength:20
				      },
				      customertqq:{
				      	maxlength:20
				      }
				      
				   },  
				   messages: {  
				      customername: {  
				         required: 'aa'				           
				      },  
				      customerbirth: {  
				         required: 'bb'
				      }
				   },
				   	highlight: function(element) {
     					//$(element).addClass("has-error");
     					$(element).css("border","1px solid rgb(213, 9, 0)");
  				   	},
				  	unhighlight: function(element) {
				     	$(element).css("border","1px solid rgb(213, 213, 213)");
				     	
				     	
				  	},
				   //errorElement: "input",
				   errorPlacement: function(error, element) {
	     					/* if (element.attr("name") == "account" || element.attr("name") == "deptname")
	       						error.insertAfter("#addfunform");
	     					else
	       						error.insertAfter(element); */
	       					 		   						  
   						} 
				});
			}
			/*
				add customer
			*/			
			function doAddCustomerFormAjax(form) {
				var $form=$("#"+form);
				  
				validator=validateCheck("customer_form");
				
				//only valid after seleced married 
				if ($("select[name='customerwed']").val()=="0"){
				
					$("input[name='customertname']").rules("add",{required:true});
					$("input[name='customertbirth']").rules("add",{required:true});
					$("select[name='customertwed']").rules("add",{required:true});
					$("select[name='customertcert']").rules("add",{required:true});
					$("input[name='customertcertnum']").rules("add",{required:true});
					$("input[name='customertmobile']").rules("add",{required:true});
					
					$("input[name='customercontact1']").rules("remove","required");
					$("select[name='customerrealtion1']").rules("remove","required");
					
					$("input[name='customermobile1']").rules("remove","required");				      
				}else{
					$("input[name='customercontact1']").rules("add",{required:true});
					$("select[name='customerrealtion1']").rules("add",{required:true});
					$("input[name='customermobile1']").rules("add",{required:true});
								
					$("input[name='customertname']").rules("remove","required");
					 $("input[name='customertbirth']").rules("remove","required");
					$("select[name='customertwed']").rules("remove","required");
					$("select[name='customertcert']").rules("remove","required");
					$("input[name='customertcertnum']").rules("remove","required");
					$("input[name='customertmobile']").rules("remove","required");					
				}
				if (validator.form()){
						var jqxhr = $.post($form.attr("action"), 
							$form.serialize() 
						).done(function(data) {
							//alert(data);
							if (data.indexOf("无权访问")!=-1){
								alert("无权访问，请联系管理员！");
								return;
							}								
							if (data==300){
								alert("该客户已存在，请检查有效证件是否录入重复!");
							}else if(data==400){
								alert("身份证非法");							
							}else if(data==250){
								alert("Server db error!");							
							}else if(data==200){//success
								//if (callback) callback();
								showMsgByKevin("<center>添加成功</center>","消息");
							}else{
								alert("Server error!");
							}							
						}).fail(function() {
							alert("Server error!Please check Network.");
						});
				}
				
				/* .always(function() {
					alert("finished");
				}); */
				
				/* jqxhr.always(function() {
					alert("second finished");
				}); */
			}
			/*
				add customer button click event
			*/
			$("#add_customer_btn").on("click",function(){
				doAddCustomerFormAjax("customer_form");
			});
			//$("input[name='customerincome']").mask('9999.999');
			//$("input[name='customerhprice']").mask('9999.999');
</script>
<script src="assets/js/ace/ace.new.onpage-help1.js"></script>